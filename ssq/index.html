<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
	<title>双色球计算</title>
</head>

<style type="text/css">

html {
    font-family: "microsoft yahei",arial;
    font-size: 100%;
}
</style>

<body>
<script>
	var date = new Date();
	document.write(date.toLocaleString());
</script>
<br/><br/>
<div id="count"></div>
<br/><br/>
<input type="button" id="create" value="生成" />
<div id="okay"></div>
<script type="text/javascript">
$(document).ready(
	function(){

	$("#count").append(create());
	$("#create").click(function(){
			$("#count").empty();
			$("#count").append(create());
	})

    $.ajax({
        url: 'http://f.apiplus.cn/ssq.json',
        dataType: 'jsonp',
        type: 'POST',
		timeout: 5000,  //设定超时5秒
        cache: false,   //禁用缓存
        jsonp: 'callback',
        success: function(result){
        	var okay = $("#okay");
			okay.append("<br>历史开奖数据：<br>");
			for (var i=0; i < result.data.length; i++) {
				var p = result.data[i].expect;
				okay.append('<br>开奖时间：'+result.data[i].opentime);
				okay.append('<br>开奖期号：'+p.substr(-3,3));
				okay.append('<br>开奖号码：'+result.data[i].opencode);
				okay.append('<br>');
			}
        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {  
            alert("");
        }
    });


});
function create(){
	var red=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33"];
	var blue = ["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16"];
	var red_result = [];
	for (var i = 0; i < 6; i++) 
	{

		var index = Math.round(Math.random() * (32-i));
		var t = red.splice(index,1);
		console.log(index);
		red_result.push(t);
	};
	red_result.sort();
	var blue_rs = blue[Math.round(Math.random() * 15)];
	return red_result.join(",") + "+" + blue_rs;

}
</script>

</body>
</html>
